<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>基本数据网格（Datagrid）组件的学习</title>
    <link rel="stylesheet" type="text/css" href="../../jquery-easyui-1.7.0/themes/default/easyui.css">
    <link rel="stylesheet" type="text/css" href="../../jquery-easyui-1.7.0/themes/icon.css">
    <link rel="stylesheet" type="text/css" href="../../jquery-easyui-1.7.0/demo/demo.css">
    <script type="text/javascript" src="../../jquery-easyui-1.7.0/jquery.min.js"></script>
    <script type="text/javascript" src="../../jquery-easyui-1.7.0/jquery.easyui.min.js"></script>
    <script type="text/javascript" src="../../jquery-easyui-1.7.0/locale/easyui-lang-zh_CN.js"></script>
</head>
<body>

<h2>基本数据网格（Datagrid）组件</h2>
<div class="demo-info" style="font-size:20px;margin-bottom: 10px">
    <div class="demo-tip icon-tip"></div>
    <div>使用标签创建数据表格，一般都是使用标签创建，js用的少.</div>
</div>
<div style="margin:10px 0;">
    <span>边框（面板中的td元素）:</span>
    <select onchange="changeBorder(this.value)">
        <option value="lines-both">都有</option>
        <option value="lines-no">无边框</option>
        <option value="lines-right">右边框</option>
        <option value="lines-bottom">下边框</option>
    </select>
    <span>斑马线（striped属性）:</span>
    <input type="checkbox" onclick="$('#dg').datagrid({striped:$(this).is(':checked')})">
</div>
<div style="margin:10px 0;">
    <span>单选还是多选: </span>
    <select onchange="$('#dg').datagrid({singleSelect:(this.value==0)})">
        <option value="0">单选</option>
        <option value="1">多选</option>
    </select>
</div>
<div style="margin:10px 0;">
    复选框联动选择（当用户选中某一行时，是否联动选中复选框，默认联动）:
    <input type="checkbox" checked onchange="$('#dg').datagrid({checkOnSelect:$(this).is(':checked')})">
    <br>选择联动复选框（当用户选中复选框时，是否联动选中某一行，默认联动）:
    <input type="checkbox" checked onchange="$('#dg').datagrid({selectOnCheck:$(this).is(':checked')})"><br/>
</div>

<div style="margin:10px 0;">
    <a href="#" class="easyui-linkbutton" onclick="getSelected()">获取单选数据</a>
    <a href="#" class="easyui-linkbutton" onclick="getSelections()">获取多选数据</a>
</div>
<table id="dg" class="easyui-datagrid" title="基本数据表格" style="width:700px;height:250px"
       data-options="rownumbers:true,singleSelect:true,collapsible:true,url:'./datagrid_data1.json',toolbar:'#tb'">
    <thead>
    <tr>
        <th data-options="field:'ck',checkbox:true">复选框列，文本会被复选框覆盖。</th>
        <th data-options="field:'itemid',width:80">编号</th>
        <th data-options="field:'productid',width:100">产品编号</th>
        <th data-options="field:'listprice',width:80,align:'right'">市场价</th>
        <th data-options="field:'unitcost',width:80,align:'right'">成本价</th>
        <th data-options="field:'attr1',width:250">描述</th>
        <th data-options="field:'status',width:60,align:'center'">状态</th>
    </tr>
    </thead>
</table>
<div id="tb" style="padding:5px;height:auto">
    <div style="margin-bottom:5px">
        <a href="#" class="easyui-linkbutton" iconCls="icon-add" plain="true"></a>
        <a href="#" class="easyui-linkbutton" iconCls="icon-edit" plain="true"></a>
        <a href="#" class="easyui-linkbutton" iconCls="icon-save" plain="true"></a>
        <a href="#" class="easyui-linkbutton" iconCls="icon-cut" plain="true"></a>
        <a href="#" class="easyui-linkbutton" iconCls="icon-remove" plain="true"></a>
    </div>
    <div>
        日期从: <input id='dd' class="easyui-datebox" style="width:80px">
        到: <input class="easyui-datebox" style="width:80px">
        语言:
        <select class="easyui-combobox" panelHeight="auto" style="width:100px">
            <option value="java">Java</option>
            <option value="c">C</option>
            <option value="basic">Basic</option>
            <option value="perl">Perl</option>
            <option value="python">Python</option>
        </select>
        <a href="#" class="easyui-linkbutton" iconCls="icon-search" onclick="doSearch()">搜索</a>
    </div>
</div>
<style type="text/css">
    .lines-both .datagrid-body td {
    }

    .lines-no .datagrid-body td {
        border-right: 1px dotted transparent;
        border-bottom: 1px dotted transparent;
    }

    .lines-right .datagrid-body td {
        border-bottom: 1px dotted transparent;
    }

    .lines-bottom .datagrid-body td {
        border-right: 1px dotted transparent;
    }
</style>

<script type="text/javascript">
    function changeBorder(cls) {
        $('#dg').datagrid('getPanel').removeClass('lines-both lines-no lines-right lines-bottom').addClass(cls);
    }

    function getSelected() {
        var row = $('#dg').datagrid('getSelected');
        if (row) {
            $.messager.alert('系统提示', row.itemid + ":" + row.productid + ":" + row.attr1);
        }
    }

    function getSelections() {
        var ss = [];
        var rows = $('#dg').datagrid('getSelections');
        for (var i = 0; i < rows.length; i++) {
            var row = rows[i];
            ss.push('<span>' + row.itemid + ":" + row.productid + ":" + row.attr1 + '</span>');
        }
        $.messager.alert('系统提示', ss.join('<br/>'));
    }

    function doSearch() {
        alert($('#dd').datebox('getValue'));
    }

</script>

<hr>
<div class="demo-info" style="font-size:20px;margin-top:10px">
    <div class="demo-tip icon-tip"></div>
    <div>数据网格（Datagrid）组件get：</div>
</div>
<div style="font-size:18px">
    <ol>提示：
        <li>toolbar属性：其值可以使js数组变量、直接数组、selector。</li>
    </ol>
</div>

</body>
</html>
