<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>基本数据网格组件</title>
    <link rel="stylesheet" type="text/css" href="../../jquery-easyui-1.4.2/themes/default/easyui.css">
    <link rel="stylesheet" type="text/css" href="../../jquery-easyui-1.4.2/themes/icon.css">
    <script type="text/javascript" src="../../jquery-easyui-1.4.2/jquery.min.js"></script>
    <script type="text/javascript" src="../../jquery-easyui-1.4.2/jquery.easyui.min.js"></script>
    <script type="text/javascript" src="../../jquery-easyui-1.4.2/locale/easyui-lang-zh_CN.js"></script>
    <link rel="stylesheet" type="text/css" href="../../jquery-easyui-1.4.2/demo/demo.css">
</head>
<body>
<table id="dg" class="easyui-datagrid" title="基本数据表格" style="width:700px;height:250px"
       data-options="url:'./datagrid_data1.json'">
    <thead>
    <tr>
        <th data-options="field:'itemId',width:80">编号</th>
        <th data-options="field:'productId',width:100">产品编号</th>
        <th data-options="field:'productName',width:100">产品名称</th>
        <th data-options="field:'marketPrice',width:80">市场价</th>
        <th data-options="field:'cost',width:80">成本价</th>
        <th data-options="field:'description',width:150">描述</th>
        <th data-options="field:'status'">状态</th>
    </tr>
    </thead>
</table>


<hr>
<h1>数据网格组件属性、事件、方法总结：</h1>
<div class="demo-info" style="font-size:20px">
    <div class="demo-tip icon-tip"></div>
    <div>
        <ul>属性
            <li>url：URL string，从远程站点请求数据的 URL。
                返回的数据必须是json格式，必须含有 'total' 和 'rows' 属性，可选footer属性，total的值是number，rows的值是jsonArray。
                {"total": number,"rows": [{json},{json}],"footer": [{json},{json}]}
            </li>
            <li>idField：string，默认值是null。指示哪个字段是标识字段。</li>
            <li>rownumbers：boolean，默认值是false。是否显示带有行号的列，默认在第一列显示。</li>
            <li>singleSelect：boolean，默认值是false。是否单选，选中的行颜色会加深。</li>
            <li>collapsible：boolean，默认值是false。标题栏是否显示折叠按钮。</li>
            <li>striped：boolean，默认值是false。是否奇偶行使用不同背景色，俗称斑马线。</li>
            <li>selectOnCheck：boolean，默认值是true。点击复选框是否联动选中该行。</li>
            <li>checkOnSelect：boolean，默认值是true。选中行是否联动选中该行复选框。</li>
            <li>rowStyler：function（rowIndex，rowData）。返回样式String，例如 'background:red' 的样式，用于整行样式。</li>
            <li>frozenColumns：array，默认值是undefined。冻结列在左边。其值['列id','列id']</li>
            <li>toolbar：array/selector，默认值是null。自定义工具栏，<br>
                数组，每个数组元素包含text(非必须)、iconCls、handler属性。<br>
                &nbsp;&nbsp;toolbar:[{ iconCls:'icon-add', handler:function(){alert('add')}} ]<br>
                选择器，指示工具组。<br>
                &nbsp;&nbsp;toolbar:'#tt'。
                <xmp><div id="tt">
                    <a href="#" class="icon-add" onclick="javascript:alert('add')"></a>
                    <a href="#" class="icon-edit" onclick="javascript:alert('edit')"></a>
                </div></xmp>
            </li>
            <li>pagination：boolean，默认值是false。底部是否显示分页工具栏。点击分页工具栏按钮，从url获取数据，默认传参数2个，page: 默认当前页 rows: 默认大小为20。
                <ol>
                    <li>pageNumber：number，默认值1。pagination属性为true时，初始化页码。</li>
                    <li>pageSize：number，默认值10。pagination属性为true时，初始化页面尺寸。</li>
                    <li>pageList：array，默认值[10,20,30,40,50]。pagination属性为true时，初始化页面尺寸的选择列表。</li>
                </ol>
            </li>
            <li>showFooter：boolean，默认值是false。是否显示尾行，加载的数据的footer的json数组数据。</li>
            <li>fitColumns：boolean，默认值是false，是否自动调整列的尺寸以防止水平滚动。</li>
            <li>loadFilter：function(rowData)，默认值为null。此列是否为复选框项。</li>
            <li>loadData：function(data)，默认值为null。	加载本地数据，旧的行会被移除。</li>
            <li>(列属性)checkbox：boolean，默认值为false。此列是否为复选框项。</li>
            <li>(列属性)align:string，默认值是left。如何对齐列数据，可能的值：'left'、'right'、'center'。</li>
            <li>(列属性)halign:string，默认值是align的值，如何对齐该列头，可能的值：'left'、'right'、'center'。</li>
            <li>(列属性)field:string，字段名，和加载的数据的属性名匹配起来。</li>
            <li>(列属性)title:string，列头的文本值。如果没有设置，则使用th标签对里面的文本值，如果都设置了，则title优先级高。</li>
            <li>(列属性)frozen:boolean，默认值是false。thead包裹的列被固定在左侧，不允许滑动，不参与合并列。</li>
            <li>(列属性)formatter:function(value，rowData，rowIndex)。单元格的格式化函数，返回的数据显示在单元格中，可以解析html标签。value：字段的值。rowData：行的记录数据。rowIndex：行的索引。</li>
            <li>(列属性)styler:function（value，rowData，rowIndex）。返回String，例如 'background:red' 的样式，用于整列样式。</li>
            <li>(列属性)editor:string/object。指示编辑类型。
                </br>当是字符串（string）时则指编辑类型。
                </br>当是对象（object）时则包含两个属性：
                </br>&nbsp;&nbsp;&nbsp;&nbsp;type：字符串，编辑类型，可能的类型：text、textarea、checkbox、numberbox、validatebox、datebox、combobox、combotree。
                </br>&nbsp;&nbsp;&nbsp;&nbsp;options：对象，编辑类型对应的编辑器选项。
                <ol>
                    <li>text例子，editor:'text'</li>
                </ol>
            </li>
        </ul>
        <ul>事件
            <li>onClickRow:function(rowIndex,rowData)。当用户点击一行时触发。</li>
            <li>onDblClickCell：function(rowIndex, field, value)。 在用户双击一个单元格的时候触发。</li>
            <li>onDblClickRow：function(rowIndex,rowData)。 在用户双击一个单元格的时候触发。 </li>
            <li>onHeaderContextMenu：function(e, field)。 当数据网格（datagrid）的头部被右键单击时触发。 </li>
            <li>onRowContextMenu：function(e, rowIndex, rowData)。当右键点击行时触发。 </li>
            <li>onLoadSuccess：data，当数据加载成功时触发。</li>
            e.preventDefault(); //原本默认action被禁止
        </ul>
        <ul>方法
            <li>getSelected：none。返回第一个选中的行或者null。</li>
            <li>getSelections：none，返回所有选中的行或者数组[]。</li>
            <li>getPager：none，返回分页（pager）对象。</li>
            <li>getPanel：none，返回面板（panel）对象。</li>
            <li>freezeRow：rowIndex，冻结指定的行，以便数据网格（datagrid）向下滚动时这些冻结行总是被显示在顶部。</li>
            <li>selectRow：rowIndex，选中指定行，索引从 0 开始。</li>
            <li>beginEdit/endEdit/cancelEdit：rowIndex。开启/结束/取消指定行的编辑器。</li>
            <li>acceptChanges：none。提交自从被加载以来或最后一次调用 acceptChanges 的所有更改的数据。</li>
            <li>rejectChanges：none。回滚最后一次调用 acceptChanges 以来所有更改的数据。</li>
            <li>getChanges：type。获取最后一次提交以来更改的行。
                </br>&nbsp;&nbsp;&nbsp;&nbsp;type 参数表示更改的行的类型，可能的值是：inserted、deleted、updated，等等。当 type 参数没有分配时,代表所有类型。
            </li>
            <li>getRows：none。返回当前页的行。</li>
            <li>appendRow：rowData。追加一个新行，新的行将被添加在最后的位置。</li>
            <li>insertRow：rowIndex，rowData。在指定索引插入一个新行。</li>
            <li>deleteRow：rowIndex。删除指定行。</li>
            <li>mergeCells：options{index：行的索引,field：字段名,rowspan：合并跨越的行数,colspan：合并跨越的列数}。把一些单元格合并为一个单元格。</li>


            <li>validateRow：rowindex。验证指定的行，有效时返回 true。</li>
            <li>getEditor：options。获取指定单元格的编辑器，options 参数包含两个属性，rowIndex：行的索引。field：字段名。</li>
            <li>hideColumn：fieldName。隐藏指定的列。</li>
            <li>showColumn：fieldName。显示指定的列。</li>
            <li>getColumnFields：none/true。返回列的字段名数组，true，则返回冻结列的字段名数组。none，则返回未冻结列的字段名数组。</li>
            <li>getColumnOption：fieldName，返回指定列的选项jsonObject。</li>
        </ul>
    </div>
</div>
</body>
</html>
