<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title> 树形网格（Treegrid）组件的学习</title>
    <link rel="stylesheet" type="text/css" href="../../jquery-easyui-1.9.4/themes/default/easyui.css">
    <link rel="stylesheet" type="text/css" href=" ../../jquery-easyui-1.9.4/themes/icon.css">
    <script type="text/javascript" src=" ../../jquery-easyui-1.9.4/jquery.min.js"></script>
    <script type="text/javascript" src=" ../../jquery-easyui-1.9.4/jquery.easyui.min.js"></script>
    <script type="text/javascript" src="../../jquery-easyui-1.9.4/locale/easyui-lang-zh_CN.js"></script>
</head>
<body>

<div style="border:3px blue solid;padding: 10px;width: 800px;height: 400px" id="a">
    <table title="文件浏览" class="easyui-treegrid" style="width:700px;height:250px"
           data-options="
				url: './json1.json',
				rownumbers: true,
				idField: 'id',
				treeField: 'name'
			">
        <thead>
        <tr>
            <th data-options="field:'name'" width="220">名称</th>
            <th data-options="field:'size'" width="100" align="right">大小</th>
            <th data-options="field:'date'" width="150">修改日期</th>
        </tr>
        </thead>
    </table>
</div>


<script type="text/javascript">
    function formatProgress(value) {
        if (value) {
            var s = '<div style="width:100%;border:1px solid #ccc">' +
                '<div style="width:' + value + '%;background:#cc0000;color:#fff">' + value + '%' + '</div>'
            '</div>';
            return s;
        } else {
            return '';
        }
    }
</script>


<!--属性、方法、事件-->
<br>
<br>
<br>
<hr>
<div style="font-size:20px">

    <div>
        <ol><b style="font-size: 30px">hello</b>
            <li>网格数据格式：
                <ol>
                    <li>（必须）total：int，总数量。</li>
                    <li>（必须）rows：jsonArray，构造树形结构数据
                        <ol>
                            <li>（必须）与idField、treeField对应的2个字段。</li>
                            <li>（可选）标识父子关系_parentId或者children。</li>
                            <li>（可选）state：string，节点是否展开，'open' 或 'closed'，默认是 'open'。</li>
                            <li>（可选）iconCls：string，树节点的标题图标的 css class。</li>
                        </ol>
                    <li>（可选）footer：json，表尾。默认不会显示，需要配合showFooter属性使用。</li>
                </ol>
            </li>
        </ol>
    </div>
    <div>
        <ol><b style="font-size: 30px">网格选项：扩展自datagrid</b>
            <li>（必须）idField：string，标识树节点的字段。</li>
            <li>（必须）treeField：string，树节点的标题文本字段，有折叠展开按钮，展现层次，要与左边第一个th的field的值相等。其他节点没有折叠展开按钮</li>
            <li> animate：boolean，默认值为false。当节点展开折叠时是否显示动画效果。</li>
            <li> loadFilter：function(data,parentId)。返回要显示的过滤数据。</li>
        </ol>
    </div>
    <div>
        <ol><b style="font-size: 30px">事件：扩展自数据网格（datagrid）</b>
            <li> onBeforeExpand：data,parentId。节点展开前触发，返回 false 则取消展开动作。</li>
            <li> onExpand：data,parentId。当节点展开时触发。</li>
            <li> onBeforeCollapse：row。节点折叠前触发，返回 false 则取消折叠动作。</li>
            <li> onCollapse：row。当节点折叠时触发。</li>
            <li> onContextMenu：e, row。当右键点击节点时触发。</li>
            <li> onBeforeEdit：row。当用户开始编辑节点时触发。</li>
            <li> onAfterEdit：row,changes。当用户完成编辑时触发。</li>
            <li> onCancelEdit：row。当用户取消编辑节点时触发。</li>
        </ol>
    </div>
    <div>
        <ol><b style="font-size: 30px">方法：很多懒得看了用到再学</b>
            <li>expandGroup：groupIndex 展开指定的组。如果 'groupIndex' 参数未分配，则展开所有的组。</li>
            <li>collapseGroup：groupIndex 折叠指定的组。如果 'groupIndex' 参数未分配，则折叠所有的组。</li>
            <li>collapseAll：none，折叠所有的节点。</li>
            <li>expandAll：none，展开所有的节点。</li>
            <li>expandTo：id，从根部展开到指定的节点，指定的节点没有被选中，仅仅展开状态。</li>
            <li>append：param{parent:父节点的id,data:[{节点json}]}，追加一些子节点到一个父节点，parent如果没有分配到正确的父节点id，则追加为根节点。。</li>
            <li>remove：id。移除节点和它的子节点。</li>
            <li>collapse：id。折叠节点。</li>
            <li>expand：id。展开节点。</li>
            <li>getChildren：id。获取子节点。</li>
            <li>getParent：id。获取父节点。</li>
            <li>insert：param({before/after：id，data：[{新的节点数据}]})。指定节点的前边或者后边插入的节。</li>
        </ol>
    </div>
</div>


</body>
</html>
